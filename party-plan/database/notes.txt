CREATE TABLE User (
    userID INT UNSIGNED NOT NULL PRIMARY KEY,
    first VARCHAR(63) NOT NULL,
    last VARCHAR(63) NOT NULL,
    email VARCHAR(63) NOT NULL,
    phone_number BIGINT UNSIGNED NOT NULL
);

CREATE TABLE ActiveParty (
    partyID INT UNSIGNED NOT NULL PRIMARY KEY,
    userID INT UNSIGNED NOT NULL,
    latitude REAL NOT NULL,
    longitude REAL NOT NULL,
    tags JSON,
    capacity INT NOT NULL,
    start_time DATETIME NOT NULL,
    end_time DATETIME NOT NULL,
    FOREIGN KEY(userID) REFERENCES User(userID) ON DELETE CASCADE
);

CREATE TABLE ArchiveParty (
    partyID INT UNSIGNED NOT NULL PRIMARY KEY,
    userID INT UNSIGNED NOT NULL,
    latitude REAL NOT NULL,
    longitude REAL NOT NULL,
    tags JSON,
    capacity INT NOT NULL,
    start_time DATETIME NOT NULL,
    end_time DATETIME NOT NULL,
    FOREIGN KEY(userID) REFERENCES User(userID) ON DELETE CASCADE
);

CREATE TABLE Rating (
    ratingID INT UNSIGNED NOT NULL PRIMARY KEY,
    safety INT UNSIGNED NOT NULL,
    fun INT UNSIGNED NOT NULL,
    userID INT UNSIGNED NOT NULL,
    FOREIGN KEY(userID) REFERENCES User(userID) ON DELETE CASCADE
);

CREATE TABLE Following (
    Followingid INT UNSIGNED NOT NULL PRIMARY KEY,
    userID INT UNSIGNED NOT NULL,
    followsID INT UNSIGNED NOT NULL,
    FOREIGN KEY(userID) REFERENCES User(userID) ON DELETE CASCADE,
    FOREIGN KEY(followsID) REFERENCES User(userID) ON DELETE CASCADE
);

CREATE TABLE RSVP (
    RSVPid INT UNSIGNED NOT NULL PRIMARY KEY,
    partyID INT UNSIGNED NOT NULL,
    userID INT UNSIGNED NOT NULL,
    reponse CHAR(11),
    FOREIGN KEY(userID) REFERENCES User(userID) ON DELETE CASCADE,
    FOREIGN KEY(partyID) REFERENCES ActiveParty(partyID) ON DELETE CASCADE
);